# BookCommunity 产品设计文档

## 🎯 产品定位

**BookCommunity = 图书版小红书**

一个以**图文书评为核心**的图书社交平台，结合 AI 智能推荐，让读者分享阅读体验、发现好书。

## 🤔 为什么是图文而非视频？

### 视频书评的问题
1. **制作门槛高** - 需要拍摄、剪辑、配音，普通用户难以参与
2. **时间成本高** - 观看一条视频书评需要 3-10 分钟，效率低
3. **内容检索难** - 视频内容难以搜索和快速浏览
4. **产品逻辑弱** - 书评本质是文字内容 + 观点分享，视频形式不匹配

### 图文书评的优势
1. **创作门槛低** - 手机拍照 + 打字即可，人人都能参与
2. **浏览效率高** - 3 秒扫一眼就能判断是否感兴趣
3. **内容可检索** - 文字可搜索、可复制、可引用
4. **符合阅读习惯** - 书评是文字媒介，图文是最佳载体

**参考案例**: 小红书、豆瓣读书、微博读书、Instagram 都以图文为主

## 📱 核心功能

### 1. 发布图文书评

#### 内容构成
```
书评 = 标题 + 文字内容 + 图片(1-9张) + 标签 + 评分
```

#### 图片用途
- **封面图**: 书的封面照片（必须）
- **笔记截图**: 读书笔记、划线内容
- **实拍图**: 书本实拍、阅读场景
- **配图**: 氛围图、表情包、相关图片

#### 发布流程
```
1. 选择图书（可搜索 ISBN 自动识别）
2. 上传图片（1-9张，第一张作为封面）
3. 写标题（必填，50字以内）
4. 写书评内容（必填，5000字以内）
5. 打分（0-10分，精确到 0.5）
6. 添加标签（可选，最多10个）
7. 发布
```

### 2. 浏览书评流

#### 双 Feed 流设计

**发现页（推荐流）**:
- 基于用户兴趣的个性化推荐
- 展示高质量书评（综合点赞、评论、收藏、完读率）
- 新用户展示热门书评

**关注页（社交流）**:
- 展示关注用户的最新书评
- 按时间倒序排列
- 新用户为空（引导去发现页）

#### 书评卡片设计
```
┌─────────────────────────────────────┐
│  [头像] 用户名                       │
│                                     │
│  ┌─────────┐  书评标题               │
│  │         │                        │
│  │  封面图  │  书评内容前3行...        │
│  │         │                        │
│  └─────────┘  查看全文 >            │
│                                     │
│  📚 《书名》 · 作者                  │
│  ⭐⭐⭐⭐⭐ 9.2分                    │
│  #标签1 #标签2                      │
│                                     │
│  ❤️ 1.2k  💬 89  ⭐ 456            │
└─────────────────────────────────────┘
```

### 3. 图书详情页

#### 页面结构
```
┌─────────────────────────────────────┐
│  《深入理解计算机系统》              │
│  作者: Randal E. Bryant             │
│  ⭐ 9.7分 · 1.2万人评分             │
│                                     │
│  [想读] [在读] [读过]               │
│                                     │
│  📖 简介                            │
│  计算机科学经典著作...               │
│                                     │
│  📝 精选书评 (872)                  │
│  [书评卡片1]                        │
│  [书评卡片2]                        │
│  ...                                │
│                                     │
│  🤖 AI 推荐                         │
│  喜欢这本书的人也喜欢：              │
│  - 《操作系统导论》                 │
│  - 《计算机网络》                   │
│                                     │
│  💬 Chat with Book                  │
│  [对话框] 向 AI 提问这本书...        │
└─────────────────────────────────────┘
```

### 4. 用户主页

#### 页面结构
```
┌─────────────────────────────────────┐
│  [头像]  @username                  │
│  个人简介...                        │
│                                     │
│  123 关注  456 粉丝  89 获赞        │
│                                     │
│  [我的书评] [想读] [在读] [读过]     │
│                                     │
│  ┌─────┬─────┬─────┐               │
│  │     │     │     │  (瀑布流布局)  │
│  │ 书评 │ 书评 │ 书评 │               │
│  │  1  │  2  │  3  │               │
│  └─────┴─────┴─────┘               │
└─────────────────────────────────────┘
```

### 5. 社交互动

#### 点赞
- 双击图片点赞（类似 Instagram）
- 点赞按钮点赞
- 显示点赞数量和点赞用户列表

#### 评论
- 一级评论（评论书评）
- 二级评论（回复评论）
- @提及功能
- 点赞评论

#### 收藏
- 收藏书评到个人收藏夹
- 可创建多个收藏夹（"想读清单"、"技术书单"等）

#### 关注
- 关注用户查看其最新书评
- 粉丝/关注列表
- 互相关注

### 6. 搜索与发现

#### 搜索类型
1. **图书搜索**: 搜索图书（调用 Python RAG 服务）
2. **书评搜索**: 搜索书评内容
3. **用户搜索**: 搜索用户昵称
4. **标签搜索**: 浏览标签分类

#### 标签体系
```
一级分类:
- 文学 (小说、散文、诗歌)
- 社科 (历史、哲学、政治)
- 科技 (计算机、数学、物理)
- 生活 (心理、成长、健康)
- 艺术 (绘画、音乐、摄影)

二级标签（用户自定义）:
- #悬疑推理 #科幻小说 #武侠小说
- #编程入门 #算法设计 #架构设计
- #个人成长 #时间管理 #心理学
```

### 7. AI 推荐功能

#### 个性化推荐
- **基于内容**: 你读过的书 → 推荐相似书
- **基于用户**: 相似用户读过的书 → 推荐给你
- **基于标签**: 你关注的标签 → 推荐该标签书评

#### Chat with Book
- 询问书中内容："这本书讲了什么？"
- 提问关键概念："什么是虚拟内存？"
- 寻求建议："适合初学者吗？"
- 比较书籍："和《操作系统导论》有什么区别？"

## 📊 数据流转

### 发布书评流程
```
用户输入
  ↓
图片上传到 CDN → 返回 URL
  ↓
书评数据写入 PostgreSQL
  ↓
异步任务（RabbitMQ）:
  - 更新 Redis 缓存
  - 更新用户统计
  - 触发推荐系统更新
  - 通知关注者
```

### 浏览书评流程
```
用户请求
  ↓
检查 Redis 缓存 → 命中返回
  ↓ (未命中)
查询 PostgreSQL
  ↓
写入 Redis 缓存
  ↓
返回结果
  ↓
异步更新浏览量
```

### AI 推荐流程
```
用户请求推荐
  ↓
Go Backend 调用 Python 服务
  ↓
Python RAG Service:
  - 读取用户历史
  - 7通道召回
  - LGBMRanker 排序
  ↓
返回推荐结果
  ↓
Go Backend 组装书评数据
  ↓
返回给前端
```

## 🎨 UI/UX 设计原则

### 小红书风格
1. **瀑布流布局**: 书评卡片不等高，充分利用空间
2. **大图优先**: 封面图占据卡片 50% 以上
3. **快速浏览**: 3 秒内判断是否感兴趣
4. **沉浸式阅读**: 点击卡片进入全屏详情页
5. **轻量化互动**: 双击点赞、滑动切换

### 豆瓣风格融合
1. **评分系统**: 显示平均分和评分分布
2. **标签云**: 展示书籍的关键词标签
3. **书单功能**: 用户可创建主题书单

## 📈 增长策略

### 冷启动
1. **邀请制**: 前期邀请种子用户（读书博主、书评人）
2. **优质内容激励**: 精选书评上首页，增加曝光
3. **导入豆瓣数据**: 抓取豆瓣读书短评作为基础内容

### 用户增长
1. **社交分享**: 书评卡片生成精美海报，分享到微信、微博
2. **话题活动**: 定期举办读书话题（#2024年读过的最好的书#）
3. **KOL 合作**: 邀请知名读书博主入驻

### 留存策略
1. **每日推荐**: 每天推送 3 本个性化推荐书
2. **阅读目标**: 设置年度阅读目标，定期提醒
3. **成就系统**: 发布书评、点赞、评论获得徽章

## 💰 商业化方向（可选）

### 短期（免费增值）
1. **电商导流**: 书评卡片带京东/当当购买链接，CPS 分成
2. **会员服务**: 高级搜索、无广告、专属标签
3. **付费内容**: 深度书评、读书笔记模板

### 长期（平台收入）
1. **出版社合作**: 新书推广、首发书评
2. **作者签售**: 线上签售活动、作者问答
3. **知识付费**: 读书课程、领读活动

## ✅ MVP 功能清单

### 必须有（P0）
- [x] 用户注册/登录
- [x] 发布图文书评
- [x] 浏览书评流（发现页）
- [x] 点赞/评论/收藏
- [x] 关注/粉丝
- [x] 图书详情页
- [x] 搜索图书

### 重要但不紧急（P1）
- [ ] 标签系统
- [ ] 用户主页
- [ ] 关注页
- [ ] Chat with Book
- [ ] 个性化推荐

### 未来规划（P2）
- [ ] 书单功能
- [ ] 阅读目标
- [ ] 成就系统
- [ ] 社交分享海报
- [ ] 话题活动

## 🔍 竞品分析

| 产品 | 优势 | 劣势 |
|------|------|------|
| **豆瓣读书** | 评分权威、内容丰富 | UI 陈旧、社交弱、无推荐 |
| **微信读书** | 阅读体验好、社交强 | 书评功能弱、封闭生态 |
| **小红书** | UI 精美、社交强 | 没有专门的图书频道 |
| **得到** | 知识付费成熟 | 偏重课程、书评弱 |
| **BookCommunity** | **图文书评 + AI 推荐 + 社交** | 新产品，需要冷启动 |

## 📝 总结

BookCommunity 的核心价值是：

1. **降低创作门槛** - 图文书评，人人可参与
2. **提升浏览效率** - 卡片式布局，快速发现好书
3. **AI 智能推荐** - 结合 RAG 和推荐系统，精准推荐
4. **社交互动** - 关注、点赞、评论，形成社区

**产品定位**: 图书版小红书 = 图文书评社区 + AI 智能推荐

**差异化优势**:
- 🎨 小红书的 UI/UX 设计
- 🤖 AI 驱动的智能推荐
- 📚 专注于图书领域的垂直社区
